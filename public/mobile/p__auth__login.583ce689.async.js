(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2U9O":function(e,t,a){"use strict";a.r(t);a("+L6B");var r=a("2/Rp"),n=(a("Pwec"),a("CtXQ")),o=(a("5NDa"),a("5rEg")),s=(a("y8nQ"),a("Vl3Y")),i=(a("miYZ"),a("tsqr")),l=a("fFZ8"),m=a.n(l),c=a("mrSG"),p=a("q1tI"),u=a.n(p),d=a("MuoO"),g=a("wY1l"),h=a.n(g),f=a("aCH8"),b=a.n(f),w=a("vOnD"),y=a("LLXN"),E=a("YO1i"),v=a("Gwa3"),O=a("3a4m"),x=a.n(O);function j(){var e=m()(["\n  width: 100%;\n  padding: 20px 40px;\n  margin-top: 60px;\n  box-sizing: border-box;\n  .logo {\n    text-align: center;\n    font-size: 5em;\n    margin-bottom: 60px;\n\n    i {\n      animation: rotate infinite 6s linear;\n      color: ",";\n    }\n\n    @keyframes rotate {\n      from {\n        transform: rotate(0);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n  }\n\n  .bottom {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]);return j=function(){return e},e}var M=w["a"].div(j(),e=>e.color),I=class extends p["Component"]{constructor(){super(...arguments),this.initData=(()=>{var e=localStorage.getItem("userInfo"),t=localStorage.getItem("token"),a=localStorage.getItem("refreshToken");e&&t&&a&&x.a.replace({pathname:"/user"})}),this.login=(e=>{e.preventDefault(),this.props.form.validateFields((e,t)=>{if(e)return i["a"].error(Object(y["formatMessage"])({id:"common.form.error"}));var a=this.props.dispatch,r=t.name,n=t.password,o=b()(n);a({type:"auth/login",payload:{data:{name:r,password:o}}}).then(e=>{e&&x.a.push("/user")})})})}componentDidMount(){this.initData()}render(){var e=this.props.loading,t=this.props.form.getFieldDecorator;return u.a.createElement(M,{color:this.context},u.a.createElement("div",{className:"logo"},u.a.createElement(E["a"],{type:"icon-zhinengyouhua"})),u.a.createElement("div",{className:"form"},u.a.createElement(s["a"],{onSubmit:this.login,className:"login-form"},u.a.createElement(s["a"].Item,null,t("name",{rules:[{required:!0,message:Object(y["formatMessage"])({id:"auth.username.tips"})}]})(u.a.createElement(o["a"],{size:"large",prefix:u.a.createElement(n["a"],{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:Object(y["formatMessage"])({id:"auth.username"})}))),u.a.createElement(s["a"].Item,null,t("password",{rules:[{required:!0,message:Object(y["formatMessage"])({id:"auth.password.tips"})}]})(u.a.createElement(o["a"],{size:"large",prefix:u.a.createElement(n["a"],{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:Object(y["formatMessage"])({id:"auth.password"})}))),u.a.createElement(s["a"].Item,null,u.a.createElement(r["a"],{type:"primary",htmlType:"submit",className:"login-form-button",size:"large",style:{width:"100%"},loading:e},Object(y["formatMessage"])({id:"auth.login"}))))),u.a.createElement("div",{className:"bottom"},u.a.createElement(h.a,{to:"/auth/register"},Object(y["formatMessage"])({id:"auth.register"})),u.a.createElement(h.a,{to:"/auth/reset"},Object(y["formatMessage"])({id:"auth.reset"}))))}};I.contextType=v["a"],I=Object(c["a"])([Object(d["connect"])(e=>{var t=e.auth,a=e.loading;return{auth:t,loading:a.effects["auth/login"]}})],I),t["default"]=s["a"].create()(I)}}]);