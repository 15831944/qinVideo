(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"9JuW":function(t,e,a){"use strict";a.r(e);a("IzEo");var s=a("bx4M"),i=a("p0pE"),r=a.n(i),o=a("mrSG"),n=a("q1tI"),l=a.n(n),p=a("MuoO"),y=a("mOtZ"),c=a("WqWh"),u=a("gmfD"),d=a("Qp6+"),h=a("nLTe"),g=a("3a4m"),m=a.n(g),v=class extends n["Component"]{constructor(t){super(t),this.initData=(t=>{var e=t.query,a=void 0===e?this.state.query:e,s=t.filter,i=void 0===s?this.state.filter:s,o=this.props.dispatch;o({type:"post/queryList",payload:{query:r()({},a,i),addon:{type:"allPost"}}}),m.a.replace({pathname:"/allPost",query:r()({},a,i)}),window.scrollTo(0,0)}),this.initCategory=(()=>{var t=this.props.dispatch;t({type:"category/queryList",payload:{params:{type:"post"}}})}),this.listQuery=(t=>{var e=this.state.query,a=r()({},e,t);this.setState({query:a},()=>{this.initData({})})}),this.filterQuery=(t=>{var e=this.state.filter,a=r()({},e,t);this.setState({filter:a,query:r()({},this.state.query,{page:1})},()=>{this.initData({})})}),this.toggleList=(t=>{this.setState({list:t})});var e=t.location.query;this.state={cate:"allPost",query:{sortBy:e.sortBy||"updatedAt",sortOrder:e.sortOrder||-1,size:e.size?parseInt(e.size):21,page:e.page?parseInt(e.page):1},filter:{area:e.area||"",year:e.year||"",kind:e.kind||"",tag:e.tag||""},list:!!e.list&&"true"===e.list}}componentDidMount(){this.initData({}),this.initCategory()}render(){var t=this.state,e=t.cate,a=t.query,i=t.filter,o=(t.list,this.props),n=o.post,p=o.category,g=o.loadingPost,m=o.location.pathname,v=n[e]?n[e].list:[],q=n[e]?n[e].total:0;return l.a.createElement("div",null,l.a.createElement(h["a"],{active:m}),l.a.createElement("div",{className:"container"},l.a.createElement(d["a"],{value:i,onChange:this.filterQuery,list:p.all,type:"p"}),l.a.createElement(s["a"],{bordered:!1,style:{marginBottom:"20px",padding:"0",margin:"15px 0"},loading:g},l.a.createElement(y["a"],{value:a,onChange:this.listQuery,type:"post"}),l.a.createElement(u["a"],{list:v}),l.a.createElement(c["a"],{value:r()({},a,{total:q}),onChange:this.listQuery}))))}};v=Object(o["a"])([Object(p["connect"])(t=>{var e=t.post,a=t.category,s=t.loading;return{post:e,category:a,loadingPost:s.models.post,loadingCategory:s.models.category}})],v),e["default"]=v}}]);