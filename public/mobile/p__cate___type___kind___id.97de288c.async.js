(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"4uAL":function(t,e,a){"use strict";a.r(e);a("IzEo");var i=a("bx4M"),n=a("p0pE"),s=a.n(n),r=a("fFZ8"),p=a.n(r),o=a("mrSG"),c=a("q1tI"),l=a.n(c),d=a("MuoO"),m=a("mOtZ"),h=a("WqWh"),y=a("/88p"),u=a("vOnD"),g=a("3a4m"),v=a.n(g),E=a("YO1i"),f=a("gmfD");function k(){var t=p()(["\n  margin-top: 40px;\n\n  .header {\n    display: inline-block;\n    padding: 0 10px;\n    margin: 0 15px;\n    height: 40px;\n    line-height: 40px;\n    border-bottom: solid 2px black;\n    font-size: 15px;\n  }\n"]);return k=function(){return t},t}var q=u["a"].div(k()),b=class extends c["Component"]{constructor(t){super(t),this.initData=(()=>{var t=this.props,e=t.dispatch,a=t.location.pathname,i=this.state,n=i.type,r=i.kind,p=i.id,o=i.query;e({type:n+"/queryList",payload:{query:s()({},o,{[r]:p}),addon:{type:p}}}),v.a.replace({pathname:a,query:s()({},o)})}),this.initCategory=(()=>{var t=this.props.dispatch,e=this.state.id;t({type:"category/getInfo",payload:{params:{id:e}}}).then(t=>{t&&this.setState({cate:t.data})})}),this.listQuery=(t=>{var e=this.state.query,a=s()({},e,t);this.setState({query:a},this.initData)}),this.toggleList=(t=>{this.setState({list:t})});var e=t.location.query,a=t.match.params;this.state={type:a.type,kind:a.kind,id:a.id,query:{sortBy:e.sortBy||"updatedAt",sortOrder:e.sortOrder||-1,size:e.size?parseInt(e.size):21,page:e.page?parseInt(e.page):1},list:!!e.list&&"true"===e.list,cate:{}}}static getDerivedStateFromProps(t,e){var a=t.match.params,i=a.type,n=a.kind,r=a.id;return i!==e.type||n!==e.kind||r!==e.id?s()({},e,{type:i,kind:n,id:r}):null}componentDidMount(){this.initCategory(),this.initData()}componentDidUpdate(t,e){var a=this.state,i=a.type,n=a.kind,s=a.id;e.type===i&&e.kind===n&&e.id===s||(this.initData(),this.initCategory())}render(){var t=this.state,e=t.type,a=t.id,n=t.query,r=t.list,p=t.cate,o=this.props.loading,c=this.props[e][a]?this.props[e][a].list:[],d=this.props[e][a]?this.props[e][a].total:0;return l.a.createElement(q,null,l.a.createElement("div",{className:"header"},l.a.createElement("span",null,p.name)),l.a.createElement("div",{className:"container"},l.a.createElement(i["a"],{bordered:!1,style:{marginBottom:"20px"},loading:o[e]},l.a.createElement(m["a"],{value:n,onChange:this.listQuery,type:e},"post"!==e&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:r?"":"active",onClick:()=>this.toggleList(!1)},l.a.createElement(E["a"],{type:"icon-settings-filter"})),l.a.createElement("span",{className:r?"active":"",onClick:()=>this.toggleList(!0)},l.a.createElement(E["a"],{type:"icon-apps"})))),"post"===e?l.a.createElement(f["a"],{list:c}):r?l.a.createElement(y["b"],{type:e,list:c}):l.a.createElement(y["a"],{type:e,list:c}),l.a.createElement(h["a"],{value:s()({},n,{total:d}),onChange:this.listQuery}))))}};b=Object(o["a"])([Object(d["connect"])(t=>{var e=t.animate,a=t.comic,i=t.post,n=t.category,s=t.loading;return{animate:e,comic:a,post:i,category:n,loading:{animate:s.effects["animate/queryList"],comic:s.effects["comic/queryList"],post:s.effects["post/queryList"]}}})],b),e["default"]=b}}]);