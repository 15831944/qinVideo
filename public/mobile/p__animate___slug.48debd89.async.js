(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{IIFU:function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),i=t("d6i3"),o=t.n(i),s=t("1l/V"),r=t.n(s),c=t("mrSG"),l=t("q1tI"),d=t.n(l),m=t("MuoO"),p=(t("pC0b"),t("GzdX")),u=t("fFZ8"),f=t.n(u),g=(t("Znn+"),t("ZTPi")),h=t("vOnD"),b=t("LLXN"),x=t("wd/R"),v=t.n(x),w=t("TSYQ"),E=t.n(w),y=t("YO1i"),k=t("Gwa3"),j=t("yDSA"),N=t("DNCa"),z=t("7rZP"),O=t("l61h");function M(){var e=f()(["\n  .head {\n    width: 100%;\n    height: 160px;\n    position: relative;\n    padding: 55px 15px 15px 15px;\n    margin-bottom: 25px;\n\n    .bg-cover {\n      width: 100%;\n      height: 160px;\n      left: 0;\n      top: 0;\n      position: absolute;\n      overflow: hidden;\n\n      .bg {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        filter: blur(15px);\n        transform: scale(1.2);\n        background-size: cover;\n        background-position: center;\n        z-index: -1;\n\n        &:after {\n          content: '';\n          position: absolute;\n          width: 100%;\n          height: 100%;\n          left: 0;\n          top: 0;\n          background-color: rgba(0, 0, 0, 0.3);\n        }\n      }\n    }\n\n    .info {\n      height: 120px;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n\n      .cover {\n        background-size: cover;\n        border: 3px solid #fff;\n        border-radius: 5px;\n        background-position: center;\n        width: 90px;\n        height: 120px;\n        box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);\n      }\n\n      .main {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        height: 95px;\n        width: calc(100% - 105px);\n\n        .left {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: flex-start;\n          color: white;\n          height: 100%;\n\n          span:nth-child(1) {\n            font-size: 16px;\n            font-weight: bold;\n          }\n\n          span:nth-child(2),\n          span:nth-child(3) {\n            font-size: 13px;\n          }\n        }\n\n        .star {\n          display: flex;\n          flex-direction: column;\n          justify-content: space-around;\n          align-items: center;\n          color: white;\n          font-size: 12px;\n          height: 100%;\n\n          .rate {\n            color: #ffa726;\n            font-size: 24px;\n          }\n        }\n      }\n    }\n  }\n\n  .information {\n    padding: 0 15px;\n\n    .introduce {\n      font-weight: 200;\n      font-size: 13px;\n      overflow: hidden;\n      line-height: 20px;\n      margin-bottom: 10px;\n      text-align: justify;\n    }\n\n    .button {\n      width: 100%;\n      display: flex;\n      justify-content: flex-start;\n      align-items: flex-end;\n\n      section {\n        width: calc((100% - 30px) / 2);\n      }\n\n      div {\n        min-width: calc((100% - 30px) / 2);\n        height: 46px;\n        padding: 0 25px;\n        color: #fff;\n        font-size: 1.1rem;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        font-weight: 300;\n        border-radius: 5px;\n\n        &:hover {\n          opacity: 0.8;\n        }\n\n        i {\n          font-size: 1.5em;\n          margin-right: 10px;\n        }\n      }\n\n      .like {\n        background-color: #f36392;\n\n        &.active i {\n          color: #ffa726;\n        }\n      }\n\n      .download {\n        margin-left: 30px;\n        background-color: rgb(24, 144, 255);\n      }\n    }\n  }\n\n  .content.container {\n    margin: 15px 0;\n    border-top: solid 6px #ebebeb;\n\n    .sec {\n      display: none;\n\n      &.active {\n        display: block;\n      }\n    }\n  }\n"]);return M=function(){return e},e}var D=g["a"].TabPane,S=h["a"].div(M()),A=e=>{window.open(e)},C=e=>{var n=e.info,t=e.userAction,a=Object(l["useContext"])(k["a"]),i=Object(l["useMemo"])(()=>a,[a]);return d.a.createElement(S,{color:i},d.a.createElement("div",{className:"head"},d.a.createElement("div",{className:"bg-cover"},d.a.createElement("div",{className:"bg",style:{backgroundImage:"url(".concat(n.coverVertical,")")}})),d.a.createElement("div",{className:"info"},d.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(n.coverVertical,")")}}),d.a.createElement("div",{className:"main"},d.a.createElement("div",{className:"left"},d.a.createElement("span",null,n.title),d.a.createElement("span",null,n.countEposide," ",Object(b["formatMessage"])({id:"animate.info.eposideCount"})," ",Object(b["formatMessage"])({id:n.isUpdate?"animate.info.isUpdate.true":"animate.info.isUpdate.false"})),d.a.createElement("span",null,v()(n.firstPlay).format("YYYY-MM-DD")," ",Object(b["formatMessage"])({id:"animate.info.firstPlay"}))),d.a.createElement("div",{className:"star"},d.a.createElement("span",{className:"rate"},n.countStar),d.a.createElement(p["a"],{disabled:!0,allowHalf:!0,defaultValue:n.countStar/2,style:{fontSize:"10px"}}),d.a.createElement("span",null,n.countRate,Object(b["formatMessage"])({id:"animate.info.rate.count"})))))),d.a.createElement("div",{className:"information"},d.a.createElement("div",{className:"introduce"},d.a.createElement("span",null,n.introduce)),d.a.createElement("div",{className:"button"},d.a.createElement(O["a"],null,d.a.createElement("div",{className:E()("like",{active:n.isLiked}),onClick:t},d.a.createElement(y["a"],{type:"icon-yizhuifan"}),d.a.createElement("span",null,Object(b["formatMessage"])({id:"animate.info.btn.like"})))),n.downTitle&&d.a.createElement("div",{className:"download",onClick:()=>{A(n.downLink)}},d.a.createElement(y["a"],{type:"icon-ic_cloud_download_"}),d.a.createElement("span",null,n.downTitle)))),d.a.createElement("div",{className:"content container"},d.a.createElement(g["a"],{defaultActiveKey:"1"},d.a.createElement(D,{tab:Object(b["formatMessage"])({id:"animate.tabs.eposide"}),key:"1"},d.a.createElement(j["b"],{season:n.seasons,eposide:n.eposides,slug:n.slug,cover:n.coverVertical})),d.a.createElement(D,{tab:"".concat(Object(b["formatMessage"])({id:"animate.tabs.comment"}),"(").concat(n.countComment||0,")"),key:"2"},d.a.createElement(N["a"],{target:n._id,onModel:"Animate",mobile:!0})),d.a.createElement(D,{tab:Object(b["formatMessage"])({id:"animate.tabs.relative"}),key:"3"},d.a.createElement(z["a"],{type:"animate",target:n.id})))))},I=C,T=t("zz3R"),L=class extends l["Component"]{constructor(e){var n;super(e),n=this,this.initData=r()(o.a.mark(function e(){var t,a,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.state.slug,a=n.props.dispatch,e.next=4,a({type:"animate/getInfo",payload:{params:{slug:t}}});case 4:i=e.sent,i&&n.setState({info:i.data});case 6:case"end":return e.stop()}},e)})),this.userAction=(()=>{var e=this.state.info;T["a"].userAction({data:{type:"Animate",target:e._id}}).then(n=>{n&&(e.isLiked=!e.isLiked,this.setState({info:e}))})}),this.state={slug:e.match.params.slug,info:{area:[],kind:[],year:[],tag:[],countRate:0,countStar:0,author:[],seasons:[],eposides:[]}}}static getDerivedStateFromProps(e,n){return e.match.params.slug!==n.slug?{slug:e.match.params.slug}:null}componentDidMount(){this.initData()}componentDidUpdate(e,n){n.slug!==this.state.slug&&this.initData()}render(){var e=this.props.loading,n=this.state.info;return d.a.createElement(a["a"],{spinning:e},d.a.createElement(I,{info:n,userAction:this.userAction}))}};L=Object(c["a"])([Object(m["connect"])(e=>{var n=e.user,t=e.animate,a=e.loading;return{user:n,animate:t,loading:a.effects["animate/getInfo"]}})],L);n["default"]=L}}]);