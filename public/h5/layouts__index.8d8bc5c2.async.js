(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"+ego":function(e,n,t){"use strict";t.r(n);var i=t("d6i3"),a=t.n(i),o=t("1l/V"),r=t.n(o),c=t("mrSG"),s=t("q1tI"),l=t.n(s),p=t("qIgq"),d=t.n(p),m=t("fFZ8"),u=t.n(m),h=t("TJpk"),g=t("vOnD"),f=t("3a4m"),v=t.n(f),w=t("mNhR");function y(){var e=u()(["\n  height: 41px;\n  width: 100%;\n  background-color: white;\n  z-index: 990;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n  padding: 1px 10px 0 10px;\n  box-sizing: border-box;\n  position: fixed;\n  top: -1px;\n  left: 0;\n  overflow: hidden;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: white;\n  font-size: 26px;\n\n  .logo {\n    i {\n      font-size: 110px;\n    }\n  }\n\n  .icon {\n    span {\n      display: inline-block;\n      width: 40px;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n    }\n\n    .avatar {\n      width: 26px;\n      height: 26px;\n      border-radius: 50%;\n      background-size: cover;\n      background-color: rgba(0, 0, 0, 0.1);\n      display: inline-block;\n      color: inherit;\n      font-style: normal;\n      line-height: 0;\n      text-align: center;\n      text-transform: none;\n      vertical-align: -0.125em;\n    }\n  }\n"]);return y=function(){return e},e}var b=g["a"].nav(y()),x=e=>()=>{v.a.push("/".concat(e))},E=e=>{var n=e.config,t=n.name,i=n.information,a=Object(s["useState"])(null),o=d()(a,2),r=o[0],c=o[1],p=()=>{var e=JSON.parse(localStorage.getItem("userInfo"));e?e.avatar&&c(e.avatar):c(null)};return Object(s["useEffect"])(()=>{p()}),l.a.createElement(b,null,l.a.createElement(h["Helmet"],{title:t,meta:[{name:"description",content:i}]},l.a.createElement("link",{rel:"icon",href:n.logo}),l.a.createElement("meta",{name:"description",content:n.information})),l.a.createElement("div",{className:"logo",onClick:x("")},"Qinmei"===t?l.a.createElement(w["a"],{type:"icon-qinmei"}):l.a.createElement("span",null,t)),l.a.createElement("div",{className:"icon"},l.a.createElement("span",{onClick:x("search")},l.a.createElement(w["a"],{type:"icon-sousuo"})),l.a.createElement("span",{onClick:x("user")},r?l.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(r,")")}}):l.a.createElement(w["a"],{type:"icon-yonghu"}))))},k=E,j=t("LLXN");function C(){var e=u()(["\n  border-top: solid 6px #ebebeb;\n  width: 100%;\n  height: 100px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  opacity: 0.8;\n\n  .list {\n    width: 70%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    margin-bottom: 10px;\n  }\n\n  .copyright {\n    font-size: 12px;\n    opacity: 0.6;\n  }\n"]);return C=function(){return e},e}var O=g["a"].footer(C()),I=e=>{var n=e.config,t=n.color,i=(n.name,n.slogan,n.aboutus),a=n.qq,o=n.app;return l.a.createElement(O,{color:t},l.a.createElement("div",{className:"list"},l.a.createElement("span",{onClick:()=>{a&&window.open(a)}},Object(j["formatMessage"])({id:"footer.qq"})),l.a.createElement("span",{onClick:()=>{i&&v.a.push("/post/".concat(i))}},Object(j["formatMessage"])({id:"footer.aboutus"})),l.a.createElement("span",{onClick:()=>{o&&window.open(o)}},Object(j["formatMessage"])({id:"footer.apk"}))),l.a.createElement("span",{className:"copyright"},Object(j["formatMessage"])({id:"footer.right"}),l.a.createElement("a",{href:"https://qinvideo.org"},"Qinvideo")))},N=I,q=t("Dp36"),M=t("XEok"),T=t("MuoO"),S=t("bdvc"),z=class extends s["Component"]{constructor(){var e;super(...arguments),e=this,this.state={config:{color:"#ffad14",name:"Qinmei",slogan:"May Change The World",information:"\u4f60\u597d\u5927\u5b8b\u5927",h5Menu:[],h5Index:[],mobleimg:null},pic:!0},this.initVisit=r()(a.a.mark(function n(){var t;return a.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,q["a"].postData({data:{type:"visit"}});case 2:t=n.sent,t||setTimeout(e.initVisit,3e3);case 4:case"end":return n.stop()}},n)})),this.initRead=function(){var n=r()(a.a.mark(function n(t){var i;return a.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,q["a"].postData({data:{type:"read",target:t}});case 2:i=n.sent,i||setTimeout(e.initRead,3e3);case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),this.initCategory=function(){var n=r()(a.a.mark(function n(t){var i;return a.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:i=e.props.dispatch,i({type:"category/queryList",payload:{query:{type:t}}});case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),this.initConfig=(e=>{var n=this.props.dispatch;n({type:"category/initList",payload:{menu:e}})}),this.initUser=(()=>{var e=localStorage.getItem("userInfo");if(e){e=JSON.parse(e);var n=this.props.dispatch;n({type:"auth/changeLoginStatus",payload:{status:!0}}),n({type:"user/refreshInfo",payload:{}})}}),this.initTongji=(()=>{if(window.config.tongji){var e=document.createElement("script");e.innerHTML='\n              var _hmt = _hmt || [];\n              (function() {\n                var hm = document.createElement("script");\n                hm.src = "'.concat(window.config.tongji,'";\n                var s = document.getElementsByTagName("script")[0];\n                s.parentNode.insertBefore(hm, s);\n              })();\n              '),document.body.appendChild(e)}})}componentDidMount(){this.setState({config:window.config}),this.initCategory("all"),this.initConfig(Object(S["e"])(window.config.h5Menu)),this.initConfig(Object(S["e"])(window.config.h5Index)),this.initConfig(Object(S["e"])(window.config.postMenu)),this.initConfig(Object(S["e"])(window.config.message)),this.initConfig(Object(S["e"])(window.config.postTop)),this.initUser(),setTimeout(()=>{this.setState({pic:!1})},3e3),this.initVisit(),this.initRead(this.props.location.pathname),this.initTongji()}componentDidUpdate(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0),this.initRead(this.props.location.pathname)}render(){var e=this.state,n=e.config,t=e.pic,i=this.props.children;return l.a.createElement(M["a"].Provider,{value:n.color},t?l.a.createElement("div",{style:{width:"100vw",height:"100vh",position:"fixed",top:"0",left:"0",zIndex:999,backgroundImage:"url(".concat(n.mobleimg,")"),backgroundSize:"cover",backgroundPosition:"center"}}):l.a.createElement("div",{className:"layout"},l.a.createElement(k,{config:n}),l.a.createElement("div",null,i),l.a.createElement(N,{config:n})))}};z=c["a"]([Object(T["connect"])(e=>{var n=e.category;return{category:n}})],z);n["default"]=z}}]);