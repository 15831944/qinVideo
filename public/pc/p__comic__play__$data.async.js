(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{dFRu:function(e,a,n){"use strict";n.r(a);n("R9oj");var t=n("ECub"),r=(n("miYZ"),n("tsqr")),i=n("mrSG"),o=n("q1tI"),c=n.n(o),l=n("MuoO"),s=(n("IzEo"),n("bx4M")),m=(n("+L6B"),n("2/Rp")),p=(n("5Dmo"),n("3S7+")),d=(n("1YHl"),n("VNzZ")),u=n("fFZ8"),g=n.n(u),f=n("vOnD"),E=n("XEok"),h=n("LLXN"),b=n("S+Af"),v=n("8KYf"),y=n("bdvc"),x=n("mNhR"),N=n("3a4m"),w=n.n(N),I=n("eNRF"),j=n("l61h");function O(){var e=g()(["\n  padding: 60px;\n  .container {\n    display: grid;\n    grid-template-columns: 320px 1fr 320px;\n    grid-gap: 20px;\n\n    .sidebar {\n    }\n\n    .info {\n      .report {\n        padding: 24px;\n        background-color: white;\n        border-radius: 2px;\n        margin-bottom: 20px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n\n        .title {\n          span {\n            margin-right: 20px;\n\n            i {\n              margin-right: 5px;\n            }\n          }\n        }\n\n        .btn .ant-btn.ant-btn-primary {\n          font-size: 12px;\n        }\n      }\n\n      .info-main {\n        .cover {\n          width: 112px;\n          height: 144px;\n          border-radius: 2px;\n          background-color: rgba(0, 0, 0, 0.05);\n          margin: 0 auto;\n          box-shadow: 0 3px 14px 0 hsla(22, 4%, 52%, 0.4);\n          background-size: cover;\n          background-position: center;\n          cursor: pointer;\n        }\n        .title {\n          font-size: 1.2em;\n          height: 50px;\n          line-height: 60px;\n          width: 100%;\n          text-align: center;\n          text-overflow: ellipsis;\n          overflow: hidden;\n          white-space: keep-all;\n        }\n        .introduce {\n          color: #515a6e;\n        }\n      }\n    }\n\n    .main {\n      .comic {\n        background-color: white;\n\n        .img {\n          width: 100%;\n          min-height: 200px;\n          text-align: center;\n          line-height: 1;\n          position: relative;\n\n          span {\n            position: absolute;\n            color: black;\n            font-size: 60px;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            opacity: 0.6;\n            z-index: -1;\n          }\n\n          img {\n            width: 100%;\n          }\n        }\n      }\n      .comment {\n        margin-top: 20px;\n      }\n    }\n  }\n"]);return O=function(){return e},e}var k=f["a"].div(O()),M=e=>{var a=e.play,n=("".concat(a.slug,"E").concat(a.playInfo.eposide),"E".concat(a.playInfo.eposide)),r=Object(o["useContext"])(E["a"]),i=Object(o["useMemo"])(()=>r,[r]);return c.a.createElement(k,{color:i},c.a.createElement("div",{className:"container"},c.a.createElement(d["a"],{offsetTop:60},c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"report"},c.a.createElement("div",{className:"title"},c.a.createElement("span",null,a.season[parseInt(a.playInfo.eposide)].title,":"),c.a.createElement(p["a"],{placement:"top",title:Object(h["formatMessage"])({id:"animate.info.play"})},c.a.createElement("span",null,c.a.createElement(x["a"],{type:"icon-youtube"}),a.count.play)),c.a.createElement(p["a"],{placement:"top",title:Object(h["formatMessage"])({id:"animate.info.comment"})},c.a.createElement("span",null,c.a.createElement(x["a"],{type:"icon-comment1"}),a.count.comment))),c.a.createElement("div",{className:"btn"},c.a.createElement(j["a"],null,c.a.createElement(I["a"],{type:"comic",target:a._id,addon:"\u7b2c".concat(Object(y["a"])(Number.parseInt(a.playInfo.eposide)+1),"\u8bdd")},c.a.createElement(m["a"],{type:"primary",shape:"round"},Object(h["formatMessage"])({id:"report.question"})))))),c.a.createElement(s["a"],{bordered:!1,className:"info-main"},c.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(a.cover.vertical,")")},onClick:()=>{w.a.push("/comic/".concat(a.slug))}}),c.a.createElement("div",{className:"title"},a.title),c.a.createElement("div",{className:"introduce"},a.information.introduce)))),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"comic"},a.playInfo.list.map((e,a)=>c.a.createElement("div",{className:"img"},c.a.createElement("span",null,Object(y["a"])(a)),c.a.createElement("img",{src:e,alt:"comic"}))),0===a.playInfo.list.length&&c.a.createElement(t["a"],{style:{padding:"30px"}})),c.a.createElement("div",{className:"comment"},c.a.createElement(v["a"],{type:"comic",belong:a.slug,target:n}))),c.a.createElement(d["a"],{offsetTop:60},c.a.createElement("div",{className:"sidebar"},c.a.createElement(b["a"],{slug:a.slug,cover:a.cover.vertical,eposide:a.season,select:parseInt(a.playInfo.eposide)})))))},D=M,z=n("Y8ry"),F=e=>{var a,n,t=e.split("E");return 2===t.length&&(a=t[0],n=Object(y["a"])(parseInt(t[1])-1)),{slug:a,eposide:n}},R=class extends o["Component"]{constructor(e){super(e),this.initData=(()=>{var e=this.state.data,a=this.props.dispatch,n=F(e),t=n.slug,i=n.eposide;null!==e&&null!==t&&null!==i?a({type:"comic/getPlayInfo",payload:{data:{slug:t,eposide:i}}}):r["a"].error(Object(h["formatMessage"])({id:"error.data.few"}))}),this.state={data:e.match.params.data}}static getDerivedStateFromProps(e,a){return e.match.params.data!==a.data?{data:e.match.params.data}:null}componentDidMount(){this.initData()}componentDidUpdate(e,a){a.data!==this.state.data&&this.initData()}render(){var e=this.props,a=e.comic.play,n=e.loading;return c.a.createElement(c.a.Fragment,null,n?c.a.createElement(z["a"],null):a.slug?c.a.createElement(D,{play:a}):c.a.createElement(t["a"],{description:c.a.createElement("span",null,Object(h["formatMessage"])({id:"common.empty.tips"})),style:{transform:"translateY(calc(40vh - 50%))"}}))}};R=i["a"]([Object(l["connect"])(e=>{var a=e.comic,n=e.loading;return{comic:a,loading:n.effects["comic/getPlayInfo"]}})],R);a["default"]=R}}]);