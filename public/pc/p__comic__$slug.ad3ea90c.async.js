(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"1cV2":function(e,n,t){"use strict";t.r(n);t("R9oj");var a=t("ECub"),i=t("mrSG"),r=t("q1tI"),l=t.n(r),s=t("MuoO"),o=(t("pC0b"),t("GzdX")),c=(t("/zsF"),t("PArb")),m=t("qIgq"),d=t.n(m),p=t("fFZ8"),f=t.n(p),u=t("vOnD"),g=t("LLXN"),h=t("wd/R"),v=t.n(h),b=t("TSYQ"),E=t.n(b),x=t("mNhR"),y=t("XEok"),w=t("S+Af"),N=t("8KYf"),k=t("7rZP"),j=t("l61h");function O(){var e=f()(["\n  min-height: calc(100vh - 280px);\n\n  .head {\n    width: 100%;\n    height: 440px;\n    position: relative;\n    overflow: hidden;\n\n    .bg {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n      filter: blur(15px);\n      transform: scale(1.2);\n      background-size: cover;\n      background-position: center;\n      z-index: -1;\n\n      &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        background-color: rgba(0, 0, 0, 0.3);\n      }\n    }\n\n    .info {\n      height: 320px;\n      margin-top: 80px;\n      display: grid;\n      grid-template-columns: 224px 1fr;\n      grid-gap: 30px;\n\n      .cover {\n        background-size: cover;\n        border: 3px solid #fff;\n        border-radius: 5px;\n        background-position: center;\n      }\n\n      .main {\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-template-rows: 40px 50px 20px 1fr 50px;\n        grid-gap: 15px;\n        overflow: hidden;\n\n        .title {\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n          overflow: hidden;\n          white-space: pre;\n\n          span:nth-child(1) {\n            color: #fff;\n            font-weight: bold;\n            font-size: 1.6rem;\n            margin-right: 30px;\n          }\n\n          span.tags {\n            color: white;\n            padding: 0.1rem 0.5rem;\n            border: 1px solid #fff;\n            border-radius: 3px;\n            margin-right: 1rem;\n            font-size: 0.8em;\n            opacity: 0.8;\n          }\n        }\n\n        .count {\n          height: 100%;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          .number {\n            height: 100%;\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n\n            .list {\n              height: 100%;\n              display: flex;\n              flex-direction: column;\n              justify-content: space-between;\n              align-items: flex-start;\n              color: white;\n              font-weight: 200;\n              padding: 0 10px;\n            }\n\n            .ant-divider.ant-divider-vertical {\n              height: 100%;\n            }\n          }\n\n          .star {\n            display: flex;\n            justify-content: flex-end;\n            align-items: center;\n            font-weight: 300;\n\n            .rate {\n              font-size: 48px;\n              color: #ffa726;\n              margin-right: 16px;\n            }\n\n            .rateStar {\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              align-items: flex-start;\n              color: white;\n\n              .ant-rate-star-full svg {\n                color: #ffa726;\n              }\n\n              span {\n                font-size: 0.9em;\n                opacity: 0.8;\n              }\n            }\n          }\n        }\n\n        .information {\n          color: rgba(255, 255, 255, 0.8);\n\n          span {\n            margin-right: 30px;\n          }\n        }\n\n        .introduce {\n          font-weight: 200;\n          color: rgba(255, 255, 255, 0.9);\n          overflow: hidden;\n          line-height: 20px;\n        }\n\n        .button {\n          display: flex;\n          justify-content: flex-start;\n          align-items: flex-end;\n\n          div {\n            height: 46px;\n            padding: 0 25px;\n            color: #fff;\n            font-size: 1.1rem;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            cursor: pointer;\n            font-weight: 300;\n            border-radius: 5px;\n\n            &:hover {\n              opacity: 0.8;\n            }\n\n            i {\n              font-size: 1.5em;\n              margin-right: 10px;\n            }\n          }\n\n          .like {\n            background-color: #f36392;\n\n            &.active i {\n              color: #ffa726;\n            }\n          }\n\n          .download {\n            margin-left: 30px;\n            background-color: rgb(24, 144, 255);\n          }\n        }\n      }\n    }\n  }\n\n  .tabs {\n    background-color: white;\n    height: 50px;\n\n    span {\n      display: inline-block;\n      line-height: 47px;\n      border-bottom: solid 3px transparent;\n      padding: 0 5px;\n      margin-right: 25px;\n      font-size: 1.1em;\n      cursor: pointer;\n\n      &.active {\n        border-bottom-color: ",";\n      }\n    }\n  }\n\n  .content {\n    margin: 20px 0;\n\n    .sec {\n      display: none;\n\n      &.active {\n        display: block;\n      }\n    }\n  }\n"]);return O=function(){return e},e}var M=u["a"].div(O(),e=>e.color),z=e=>{window.open(e)},C=(e,n)=>{return e.like.filter(e=>e.slug===n).length>0},D=e=>{var n=e.info,t=e.userAction,a=e.user,i=Object(r["useContext"])(y["a"]),s=Object(r["useMemo"])(()=>i,[i]),m=Object(r["useState"])(0),p=d()(m,2),f=p[0],u=p[1];return l.a.createElement(M,{color:s},l.a.createElement("div",{className:"head"},l.a.createElement("div",{className:"bg",style:{backgroundImage:"url(".concat(n.cover.vertical,")")}}),l.a.createElement("div",{className:"container info"},l.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(n.cover.vertical,")")}}),l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"title"},l.a.createElement("span",null,n.title),n.category.tag.map(e=>l.a.createElement("span",{className:"tags"},e))),l.a.createElement("div",{className:"count"},l.a.createElement("div",{className:"number"},l.a.createElement("div",{className:"list"},l.a.createElement("span",null,Object(g["formatMessage"])({id:"comic.info.play"}),":"),l.a.createElement("span",null,n.count.play)),l.a.createElement(c["a"],{type:"vertical"}),l.a.createElement("div",{className:"list"},l.a.createElement("span",null,Object(g["formatMessage"])({id:"comic.info.like"}),":"),l.a.createElement("span",null,n.count.like)),l.a.createElement(c["a"],{type:"vertical"}),l.a.createElement("div",{className:"list"},l.a.createElement("span",null,Object(g["formatMessage"])({id:"animate.info.comment"}),":"),l.a.createElement("span",null,n.count.comment))),l.a.createElement("div",{className:"star"},l.a.createElement("span",{className:"rate"},n.information.rateStar),l.a.createElement("div",{className:"rateStar"},l.a.createElement(o["a"],{disabled:!0,allowHalf:!0,defaultValue:n.information.rateStar/2}),l.a.createElement("span",null,n.information.rateCount,Object(g["formatMessage"])({id:"animate.info.rate.count"}))))),l.a.createElement("div",{className:"information"},l.a.createElement("span",null,v()(n.information.firstPlay).format("YYYY-MM-DD")," ",Object(g["formatMessage"])({id:"animate.info.firstPlay"})),l.a.createElement("span",null,n.information.eposideCount," ",Object(g["formatMessage"])({id:"animate.info.eposideCount"})),l.a.createElement("span",null,Object(g["formatMessage"])({id:n.information.isUpdate?"animate.info.isUpdate.true":"animate.info.isUpdate.false"}))),l.a.createElement("div",{className:"introduce"},l.a.createElement("span",null,Object(g["formatMessage"])({id:"animate.info.introduce"}),": ",n.information.introduce)),l.a.createElement("div",{className:"button"},l.a.createElement(j["a"],null,l.a.createElement("div",{className:E()("like",{active:C(a,n.slug)}),onClick:t},l.a.createElement(x["a"],{type:"icon-yizhuifan"}),l.a.createElement("span",null,Object(g["formatMessage"])({id:"comic.info.btn.like"})))),n.play.downTitle&&l.a.createElement("div",{className:"download",onClick:()=>{z(n.play.downLink)}},l.a.createElement(x["a"],{type:"icon-ic_cloud_download_"}),l.a.createElement("span",null,n.play.downTitle)))))),l.a.createElement("div",{className:"tabs"},l.a.createElement("div",{className:"container"},l.a.createElement("span",{className:0===f?"active":"",onClick:()=>{u(0)}},Object(g["formatMessage"])({id:"animate.tabs.eposide"})),l.a.createElement("span",{className:1===f?"active":"",onClick:()=>{u(1)}},Object(g["formatMessage"])({id:"animate.tabs.comment"}),"(",n.count.comment,")"),l.a.createElement("span",{className:2===f?"active":"",onClick:()=>{u(2)}},Object(g["formatMessage"])({id:"animate.tabs.relative"})))),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:0===f?"sec active":"sec"},l.a.createElement(w["b"],{eposide:n.season,slug:n.slug})),l.a.createElement("div",{className:1===f?"sec active":"sec"},l.a.createElement(N["a"],{type:"comic",belong:n.slug,target:"P00"})),l.a.createElement("div",{className:2===f?"sec active":"sec"},l.a.createElement(k["a"],{type:"comic",title:n.title})))))},S=D,Y=t("Y8ry"),A=t("Dp36"),I=class extends r["Component"]{constructor(e){super(e),this.initData=(()=>{var e=this.state.slug,n=this.props.dispatch;n({type:"comic/getInfo",payload:{params:{slug:e}}})}),this.userAction=(()=>{var e=this.state.slug,n=this.props.dispatch;A["a"].postUserAction({data:{type:"comic",kind:"like",slug:e}}).then(e=>{e&&n({type:"user/refreshInfo",payload:{}})})}),this.state={slug:e.match.params.slug}}static getDerivedStateFromProps(e,n){return e.match.params.slug!==n.slug?{slug:e.match.params.slug}:null}componentDidMount(){this.initData()}componentDidUpdate(e,n){n.slug!==this.state.slug&&this.initData()}render(){var e=this.props,n=e.user.info.comic,t=e.comic.info,i=e.loading;return l.a.createElement(l.a.Fragment,null,i?Y["a"]:t.slug?l.a.createElement(S,{info:t,userAction:this.userAction,user:n}):l.a.createElement(a["a"],{description:l.a.createElement("span",null,Object(g["formatMessage"])({id:"common.nodata.tips"})),style:{transform:"translateY(calc(40vh - 50%))"}}))}};I=i["a"]([Object(s["connect"])(e=>{var n=e.user,t=e.comic,a=e.loading;return{user:n,comic:t,loading:a.effects["comic/getInfo"]}})],I);n["default"]=I}}]);