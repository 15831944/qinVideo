(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{EN87:function(t,e,a){"use strict";a.r(e);a("IzEo");var i=a("bx4M"),s=a("p0pE"),n=a.n(s),r=a("mrSG"),o=a("q1tI"),l=a.n(o),c=a("MuoO"),p=a("L6Kr"),m=a("mOtZ"),h=a("WqWh"),d=a("/88p"),u=a("3a4m"),y=a.n(u),g=a("mNhR"),v=class extends o["Component"]{constructor(t){super(t),this.initData=(t=>{var e=t.query,a=void 0===e?this.state.query:e,i=t.filter,s=void 0===i?this.state.filter:i,r=this.props,o=r.dispatch,l=r.location,c=this.state,p=c.cate,m=c.type;o({type:"animate/queryList",payload:{query:n()({},a,s,{[m]:p}),addon:{type:p}}}),y.a.push({pathname:l.pathname,query:n()({},a,s)}),window.scrollTo(0,0)}),this.initCategory=(()=>{var t=this.props.dispatch,e=this.state.cate;t({type:"category/getInfo",payload:{params:{id:e}}}).then(t=>{t&&this.setState({info:t.data})})}),this.listQuery=(t=>{var e=this.state.query,a=n()({},e,t);this.setState({query:a},()=>{this.initData({})})}),this.toggleList=(t=>{this.setState({list:t})});var e=t.location.query,a=t.match;this.state={type:a.params.type,cate:a.params.cate,query:{sortBy:e.sortBy||"updatedAt",sortOrder:e.sortOrder||-1,size:e.size?parseInt(e.size):20,page:e.page?parseInt(e.page):1},list:!!e.list&&"true"===e.list,info:{}}}static getDerivedStateFromProps(t,e){return t.match.params.cate!==e.cate?{cate:t.match.params.cate}:null}componentDidUpdate(t,e){e.cate!==this.state.cate&&(this.initData({}),this.initCategory())}componentDidMount(){this.initData({}),this.initCategory()}render(){var t=this.state,e=t.query,a=t.list,s=t.cate,r=t.info,o=void 0===r?{}:r,c=this.props,u=c.animate,y=c.loading,v=u[s]&&u[s].list||[],E=u[s]&&u[s].total||0;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(p["a"],{img:o.cover,span:o.name}),l.a.createElement(i["a"],{bordered:!1,style:{marginBottom:"20px"},loading:y&&0===E},l.a.createElement(m["a"],{value:e,onChange:this.listQuery},l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:a?"":"active",onClick:()=>this.toggleList(!1)},l.a.createElement(g["a"],{type:"icon-settings-filter"})),l.a.createElement("span",{className:a?"active":"",onClick:()=>this.toggleList(!0)},l.a.createElement(g["a"],{type:"icon-apps"})))),a?l.a.createElement(d["b"],{list:v}):l.a.createElement(d["a"],{list:v}),l.a.createElement(h["a"],{value:n()({},e,{total:E}),onChange:this.listQuery}))))}};v=Object(r["a"])([Object(c["connect"])(t=>{var e=t.animate,a=t.loading;return{animate:e,loading:a.models.animate}})],v),e["default"]=v}}]);