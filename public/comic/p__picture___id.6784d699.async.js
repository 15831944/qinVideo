(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"/LOx":function(e,n,t){"use strict";t.r(n);t("T2oS");var a=t("W9HT"),i=t("mrSG"),r=t("q1tI"),c=t.n(r),o=t("MuoO"),l=(t("IzEo"),t("bx4M")),s=(t("+L6B"),t("2/Rp")),m=(t("5Dmo"),t("3S7+")),p=t("fFZ8"),d=t.n(p),u=t("vOnD"),g=t("Gwa3"),h=t("LLXN"),f=t("EZ0T"),E=t("DNCa"),v=t("YO1i"),b=t("3a4m"),x=t.n(b),y=t("qHAN"),w=t("qki9"),N=t("zz3R"),k=t("kS3o"),O=t.n(k);function j(){var e=d()(["\n  padding: 60px;\n  min-height: 100vh;\n  .container {\n    display: flex;\n    justify-content: space-between;\n\n    .mainCon {\n      width: calc(100% - 350px);\n\n      .player {\n        min-height: 300px;\n        background-color: rgba(0, 0, 0, 0.01);\n\n        .levelLimit {\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n\n          span {\n            font-size: 16px;\n            margin-top: 20px;\n            color: #1890ff;\n          }\n        }\n\n        .comicPicture {\n          img {\n            width: 100%;\n          }\n        }\n      }\n\n      .comment {\n        width: 100%;\n        .report {\n          padding: 24px;\n          background-color: white;\n          border-radius: 2px;\n          margin-bottom: 20px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          .title {\n            span {\n              margin-right: 30px;\n\n              i {\n                margin-right: 5px;\n              }\n            }\n          }\n\n          .btn .ant-btn.ant-btn-primary {\n            font-size: 12px;\n          }\n        }\n      }\n    }\n\n    .sidebar {\n      .eposide {\n        background-color: white;\n        padding: 5px 0;\n\n        .content {\n          overflow-y: scroll;\n          margin: 5px;\n          height: 400px;\n        }\n      }\n\n      .info {\n        margin-top: 20px;\n        .info-main {\n          .cover {\n            width: 112px;\n            height: 144px;\n            border-radius: 2px;\n            background-color: rgba(0, 0, 0, 0.05);\n            margin: 0 auto;\n            box-shadow: 0 3px 14px 0 hsla(22, 4%, 52%, 0.4);\n            background-size: cover;\n            background-position: center;\n            cursor: pointer;\n          }\n          .title {\n            font-size: 1.2em;\n            height: 50px;\n            line-height: 60px;\n            width: 100%;\n            text-align: center;\n            text-overflow: ellipsis;\n            overflow: hidden;\n            white-space: keep-all;\n          }\n          .introduce {\n            color: #515a6e;\n            word-wrap: break-word;\n          }\n        }\n      }\n    }\n  }\n"]);return j=function(){return e},e}var M=u["a"].div(j()),D=e=>{var n=e.play,t=Object(r["useContext"])(g["a"]),a=Object(r["useMemo"])(()=>t,[t]),i=Object(r["useRef"])(null);return Object(r["useEffect"])(()=>{n.eposides.some((e,t)=>{if(e.id===n.id)return i.current.scrollTop=80*t,!0})}),c.a.createElement(M,{color:a},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"mainCon"},c.a.createElement("div",{className:"player"},n.levelLimit?c.a.createElement("div",{className:"levelLimit"},c.a.createElement("img",{src:O.a,alt:""}),c.a.createElement("span",null,Object(h["formatMessage"])({id:"animate.play.level.limit"}))):c.a.createElement("div",{className:"comicPicture"},n.link.map(e=>c.a.createElement("img",{src:e.value,alt:""})))),c.a.createElement("div",{className:"comment"},c.a.createElement("div",{className:"report"},c.a.createElement("div",{className:"title"},c.a.createElement("span",null,n.target.title," - ",n.title),c.a.createElement(m["a"],{placement:"top",title:Object(h["formatMessage"])({id:"animate.info.play"})},c.a.createElement("span",null,c.a.createElement(v["a"],{type:"icon-youtube"}),n.countPlay)),c.a.createElement(m["a"],{placement:"top",title:Object(h["formatMessage"])({id:"animate.info.comment"})},c.a.createElement("span",null,c.a.createElement(v["a"],{type:"icon-comment1"}),n.countComment)),c.a.createElement(m["a"],{placement:"top",title:Object(h["formatMessage"])({id:"animate.info.danmu"})},c.a.createElement("span",null,c.a.createElement(v["a"],{type:"icon-pinglun"}),n.countDanmu))),c.a.createElement("div",{className:"btn"},c.a.createElement(w["a"],null,c.a.createElement(y["a"],{type:"Comic",onModel:"Eposide",target:n.id,api:N["a"]},c.a.createElement(s["a"],{type:"primary",shape:"round"},Object(h["formatMessage"])({id:"report.question"})))))),c.a.createElement(E["a"],{target:n.id,api:N["a"],onModel:"Eposide"}))),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"eposide"},c.a.createElement("div",{className:"content",ref:i},c.a.createElement(f["a"],{id:n.id,cover:n.target.coverVertical,eposide:n.eposides}))),c.a.createElement("div",{className:"info"},c.a.createElement(l["a"],{bordered:!1,className:"info-main"},c.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(n.target.coverVertical,")")},onClick:()=>{x.a.push("/slug/".concat(n.target.slug))}}),c.a.createElement("div",{className:"title"},n.target.title),c.a.createElement("div",{className:"introduce"},n.target.introduce))))))},z=D,C=class extends r["Component"]{constructor(e){super(e),this.initData=(()=>{var e=this.state.id,n=this.props.dispatch;n({type:"comic/getPlayInfo",payload:{params:{id:e}}}).then(e=>{e&&this.setState({info:e.data})})}),this.state={id:e.match.params.id,info:{link:[],eposides:[],target:{}}}}static getDerivedStateFromProps(e,n){return e.match.params.id!==n.id?{id:e.match.params.id}:null}componentDidMount(){this.initData()}componentDidUpdate(e,n){n.id!==this.state.id&&this.initData()}render(){var e=this.props.loading,n=this.state.info;return c.a.createElement(c.a.Fragment,null,c.a.createElement(a["a"],{spinning:e,size:"large"},c.a.createElement(z,{play:n})))}};C=Object(i["a"])([Object(o["connect"])(e=>{var n=e.comic,t=e.loading;return{comic:n,loading:t.effects["comic/getPlayInfo"]}})],C);n["default"]=C},kS3o:function(e,n,t){e.exports=t.p+"static/level.367681e1.png"}}]);