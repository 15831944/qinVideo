(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{xiJD:function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r,o,c=a("bx4M"),l=(a("14J3"),a("BMrR")),i=(a("+L6B"),a("2/Rp")),u=(a("5NDa"),a("5rEg")),s=(a("y8nQ"),a("Vl3Y")),d=a("jehZ"),m=a.n(d),p=(a("7Kak"),a("9yH6")),f=(a("miYZ"),a("tsqr")),g=a("2Taf"),h=a.n(g),y=a("vZ4D"),b=a.n(y),v=a("l4Ni"),E=a.n(v),M=a("ujKo"),j=a.n(M),x=a("rlhR"),O=a.n(x),w=a("MhPg"),C=a.n(w),I=a("q1tI"),k=a.n(I),D=a("MuoO"),R=a("LLXN"),P=(a("g9YV"),a("wCAj")),V=a("gWZ8"),q=a.n(V),F=(a("OaEy"),a("2fM7")),J=F["a"].Option,L=function(e){var t=e.value,a=e.onChange,n=e.upload,r=function(){var e={source:"test"+t.length,api:"https://api.com",cat:4};a([].concat(q()(t),[e]))},o=function(e){var n=t.filter(function(t){return t.source!==e});a(n)},c=function(e,n,r){if("type"===r){var o=e;t[n][r]=o,a(t)}else{var c=e.target.value;t[n][r]=c,a(t)}},l=[{title:Object(R["formatMessage"])({id:"cloud.source.source"}),dataIndex:"source",align:"center",render:function(e,t,a){return k.a.createElement(u["a"],{value:e,onChange:function(e){return c(e,a,"source")},style:{width:"160px"}})}},{title:Object(R["formatMessage"])({id:"cloud.source.api"}),dataIndex:"api",align:"center",render:function(e,t,a){return k.a.createElement(u["a"],{value:e,onChange:function(e){return c(e,a,"api")},style:{width:"100%"}})}},{title:Object(R["formatMessage"])({id:"cloud.source.cat"}),dataIndex:"cat",align:"center",render:function(e,t,a){return k.a.createElement(u["a"],{value:e,onChange:function(e){return c(e,a,"cat")},style:{width:"120px"}})}},{title:Object(R["formatMessage"])({id:"cloud.source.type"}),dataIndex:"type",align:"center",render:function(e,t,a){return k.a.createElement(F["a"],{value:e,style:{width:120},onChange:function(e){return c(e,a,"type")}},k.a.createElement(J,{value:"Animate"},Object(R["formatMessage"])({id:"menu.animate"})),k.a.createElement(J,{value:"Comic"},Object(R["formatMessage"])({id:"menu.comic"})))}},{title:Object(R["formatMessage"])({id:"cloud.source.option"}),dataIndex:"source",align:"center",width:300,render:function(e){return k.a.createElement(k.a.Fragment,null,k.a.createElement("a",{style:{marginRight:"15px"},onClick:function(){return n(e,24)}},Object(R["formatMessage"])({id:"cloud.source.import.today"})),k.a.createElement("a",{style:{marginRight:"15px"},onClick:function(){return n(e,168)}},Object(R["formatMessage"])({id:"cloud.source.import.week"})),k.a.createElement("a",{style:{marginRight:"15px"},onClick:function(){return n(e,null)}},Object(R["formatMessage"])({id:"cloud.source.import.all"})),k.a.createElement("a",{style:{marginRight:"15px"},onClick:function(){return o(e)}},Object(R["formatMessage"])({id:"cloud.source.delete"})))}}];return k.a.createElement(k.a.Fragment,null,k.a.createElement(i["a"],{type:"primary",icon:"plus",style:{marginBottom:"15px"},onClick:r},Object(R["formatMessage"])({id:"cloud.source.add"})),k.a.createElement(P["a"],{bordered:!0,dataSource:t,columns:l,rowKey:"index",width:900}))},N=L,S=(n=Object(D["connect"])(function(e){var t=e.cloud,a=e.loading;return{cloud:t,loading:a.effects["cloud/cloudCreate"]}}),n((o=function(e){function t(){var e,a;h()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=E()(this,(e=j()(t)).call.apply(e,[this].concat(r))),a.state={},a.initData=function(){var e=O()(a),t=e.query,n=a.props.dispatch;n({type:"cloud/cloudInfo",payload:{query:t}})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.form;r.validateFields(function(e,t){e||n({type:"cloud/cloudCreate",payload:{data:t}}).then(function(e){e&&f["a"].success(Object(R["formatMessage"])({id:"common.success.tips"}))})})},a.upload=function(e,t){var n=a.props.dispatch;f["a"].info(Object(R["formatMessage"])({id:"cloud.source.import.start"})),n({type:"cloud/cloudImport",payload:{data:{source:e,hour:t}}})},a}return C()(t,e),b()(t,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.cloud.info,n=t.loading,r={labelCol:{lg:{span:2}},wrapperCol:{lg:{span:18,offset:1}}};return k.a.createElement(c["a"],{className:"tableList",bordered:!1},k.a.createElement(s["a"],{onSubmit:this.handleSubmit},k.a.createElement(s["a"].Item,m()({},r,{label:Object(R["formatMessage"])({id:"cloud.update"}),extra:Object(R["formatMessage"])({id:"cloud.update.extra"})}),e("update",{initialValue:!!a&&a.update})(k.a.createElement(p["a"].Group,null,k.a.createElement(p["a"],{value:!0},Object(R["formatMessage"])({id:"cloud.update.true"})),k.a.createElement(p["a"],{value:!1},Object(R["formatMessage"])({id:"cloud.update.false"}))))),k.a.createElement(s["a"].Item,m()({},r,{label:Object(R["formatMessage"])({id:"cloud.slugPrefix"}),extra:Object(R["formatMessage"])({id:"cloud.slugPrefix.extra"})}),e("slugPrefix",{initialValue:a?a.slugPrefix:"av"})(k.a.createElement(u["a"],{style:{width:"400px"}}))),k.a.createElement(s["a"].Item,m()({},r,{label:Object(R["formatMessage"])({id:"cloud.source"}),extra:Object(R["formatMessage"])({id:"cloud.source.extra"})}),e("source",{initialValue:a&&a.source||[]})(k.a.createElement(N,{upload:this.upload}))),k.a.createElement(l["a"],{type:"flex",justify:"center",align:"middle",style:{marginTop:"60px"}},k.a.createElement(i["a"],{type:"primary",htmlType:"submit",loading:n},Object(R["formatMessage"])({id:"config.save"})))))}}]),t}(I["Component"]),r=o))||r);t["default"]=s["a"].create()(S)}}]);